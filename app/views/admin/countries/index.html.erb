<% content_for :title, "Countries" %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full" data-module="table-filter">
    <div class="js-table-filter__input">
      <%= render "govuk_publishing_components/components/input", {
        label: {
          text: "Filter countries"
        },
        name: "table-filter",
        type: "text",
        search_icon: true
      } %>
    </div>
    <%= render "govuk_publishing_components/components/table", {
      head: [
        { text: "Country" },
        { text: "Status" }
      ],
      rows: @countries.map do |country|
        [
          { text: link_to(country.name, admin_country_path(country.slug), class: 'govuk-link') },
          { text: country.has_published_edition? ? "Advice published" : "No advice published" }
        ]
      end
    } %>
  </div>
</div>
