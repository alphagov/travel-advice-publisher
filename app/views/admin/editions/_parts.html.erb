<%= render "govuk_publishing_components/components/fieldset", {
  legend_text: "Parts (govspeak available)",
  heading_size: "m",
} do %>
  <%
    items = []
    @edition.parts.in_order.each do | part |
      items.push({
        heading: {
          text: part.title.present? ? part.title : "Untitled part"
        },
        content: {
          html:  render('part', part: part)
        }
      })
    end
  %>

  <%= render "govuk_publishing_components/components/accordion", {
    id: "parts",
    items: items
  } %>

  <%= render "govuk_publishing_components/components/button", {
    text: "Add new part",
    secondary_solid: true,
  } %>
<% end %>
